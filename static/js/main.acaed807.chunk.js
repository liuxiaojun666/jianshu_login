(this.webpackJsonpjianshu=this.webpackJsonpjianshu||[]).push([[0],{101:function(e,a,s){},142:function(e,a,s){},239:function(e,a,s){"use strict";s.r(a);var t=s(0),r=s(25),n=s.n(r),c=(s(142),s(131)),i=s(35),o=s(132),l=s(242),j=s(243),b=s(244),u=s(130),d=s(245),m=s(246),p=(s(101),s(70)),h=s.n(p),O=s(9),x={wrapperCol:{offset:4,span:16}},f={wrapperCol:{offset:4,span:16}},g={email:[{required:!0,message:"\u8bf7\u8f93\u5165\u90ae\u7bb1!"}],Password:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}]};function w(){var e=localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user"));return e&&e.remember||(e=""),Object(O.jsx)("div",{children:Object(O.jsxs)(l.a,Object(i.a)(Object(i.a)({},x),{},{name:"basic",initialValues:e,onFinish:function(e){console.log("Success:",e);var a={email:e.email,password:e.password};h.a.post("https://conduit.productionready.io/api/users/login",{user:a}).then((function(){localStorage.setItem("user",JSON.stringify(Object(i.a)({remember:e.remember},a))),o.b.success("\u767b\u5f55\u6210\u529f")}))},children:[Object(O.jsx)(l.a.Item,{name:"email",rules:g.email,children:Object(O.jsx)(j.a,{prefix:Object(O.jsx)(d.a,{}),placeholder:"\u624b\u673a\u53f7\u6216\u90ae\u7bb1"})}),Object(O.jsx)(l.a.Item,{name:"password",rules:g.Password,children:Object(O.jsx)(j.a.Password,{prefix:Object(O.jsx)(m.a,{}),placeholder:"\u5bc6\u7801"})}),Object(O.jsxs)(l.a.Item,Object(i.a)(Object(i.a)({},f),{},{children:[Object(O.jsx)(l.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:Object(O.jsx)(b.a,{children:"\u8bb0\u4f4f\u6211"})}),Object(O.jsx)("span",{style:{float:"right"},children:"\u767b\u5f55\u9047\u5230\u95ee\u9898?"})]})),Object(O.jsx)(l.a.Item,Object(i.a)(Object(i.a)({},f),{},{name:"loginBtn",children:Object(O.jsx)(u.a,{type:"primary",shape:"round",htmlType:"submit",size:"large",block:!0,children:"\u767b\u5f55"})}))]}))})}var v=s(247),y={wrapperCol:{offset:4,span:16}},I={wrapperCol:{offset:4,span:16}},k={username:[{required:!0,message:"\u8bf7\u8f93\u5165\u6635\u79f0!"}],email:[{required:!0,message:"\u8bf7\u8f93\u5165\u90ae\u7bb1!"}],Password:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"}]};function S(){return Object(O.jsx)("div",{children:Object(O.jsxs)(l.a,Object(i.a)(Object(i.a)({},y),{},{name:"basic",onFinish:function(e){var a={username:e.username,email:e.email,password:e.password};h.a.post("https://conduit.productionready.io/api/users",{user:a}).then((function(){o.b.success("\u6ce8\u518c\u6210\u529f")})).catch((function(e){o.b.error(e)}))},onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(O.jsx)(l.a.Item,{name:"username",rules:k.username,children:Object(O.jsx)(j.a,{prefix:Object(O.jsx)(d.a,{}),placeholder:"\u4f60\u7684\u6635\u79f0"})}),Object(O.jsx)(l.a.Item,{name:"email",rules:k.email,children:Object(O.jsx)(j.a,{prefix:Object(O.jsx)(v.a,{}),placeholder:"\u90ae\u7bb1"})}),Object(O.jsx)(l.a.Item,{name:"password",rules:k.Password,children:Object(O.jsx)(j.a.Password,{prefix:Object(O.jsx)(m.a,{}),placeholder:"\u8bbe\u7f6e\u5bc6\u7801"})}),Object(O.jsx)(l.a.Item,Object(i.a)(Object(i.a)({},I),{},{name:"loginBtn",children:Object(O.jsx)(u.a,{type:"primary",shape:"round",htmlType:"submit",size:"large",block:!0,style:{background:"#42c02e",borderColor:"none"},children:"\u767b\u5f55"})}))]}))})}var C=s(241),N=s(86),P=s(22);var q=function(){var e=Object(t.useState)(0),a=Object(c.a)(e,2),s=a[0],r=a[1];function n(e){r(e)}return Object(t.useEffect)((function(){"/signup"===window.location.pathname&&r(1)}),[]),Object(O.jsx)("div",{className:"login",children:Object(O.jsx)(C.a,{children:Object(O.jsxs)(N.a,{basename:"jianshu_login",children:[Object(O.jsxs)("div",{className:"sign-in-sing-up",children:[Object(O.jsx)(N.b,{to:"/login",className:0===s?"current-router":"",onClick:function(){return n(0)},children:"\u767b\u5f55"}),Object(O.jsx)("b",{children:"\xb7"}),Object(O.jsx)(N.b,{to:"/signup",className:1===s?"current-router":"",onClick:function(){return n(1)},children:"\u6ce8\u518c"})]}),Object(O.jsx)(P.a,{path:"/",component:w,exact:!0}),Object(O.jsx)(P.a,{path:"/login",component:w}),Object(O.jsx)(P.a,{path:"/signup",component:S})]})})})},F=s(129),J=s.n(F),z=s(96),B=s.n(z),E=(s(233),s(15));s(234);B.a.locale("zh-cn"),n.a.render(Object(O.jsx)(E.a,{locale:J.a,children:Object(O.jsx)(q,{})}),document.getElementById("root"))}},[[239,1,2]]]);
//# sourceMappingURL=main.acaed807.chunk.js.map