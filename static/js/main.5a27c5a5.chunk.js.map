{"version":3,"sources":["pages/login.js","pages/signup.js","App.js","index.js"],"names":["layout","wrapperCol","offset","span","tailLayout","loginRules","email","required","message","Password","Login","React","useState","loading","setLoading","user","localStorage","getItem","JSON","parse","remember","name","initialValues","onFinish","values","console","log","password","axios","post","then","setItem","stringify","success","catch","err","error","response","data","errors","Item","rules","prefix","UserOutlined","placeholder","LockOutlined","valuePropName","noStyle","style","float","type","shape","htmlType","size","block","background","className","username","Signup","onFinishFailed","errorInfo","MailOutlined","border","App","currentIndex","setCurrentIndex","changeRoute","index","useEffect","window","location","pathname","includes","basename","to","onClick","path","component","exact","Singup","moment","locale","ReactDOM","render","zhCN","document","getElementById"],"mappings":"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","file":"static/js/main.5a27c5a5.chunk.js","sourcesContent":["import { Form, Input, Button, Checkbox, message } from 'antd'\nimport React from 'react'\nimport { UserOutlined, LockOutlined } from '@ant-design/icons'\nimport '../styles/login.scss'\nimport axios from 'axios'\nconst layout = {\n  wrapperCol: { offset: 4, span: 16 },\n}\nconst tailLayout = {\n  wrapperCol: { offset: 4, span: 16 },\n}\n\nconst loginRules = {\n  email: [{ required: true, message: '请输入邮箱!' }],\n  Password: [{ required: true, message: '请输入密码' }],\n}\nexport default function Login() {\n  const [loading, setLoading] = React.useState(false)\n  const onFinish = (values) => {\n    console.log('Success:', values)\n    const user = {\n      email: values.email,   \n      password: values.password\n    }\n\n    setLoading(true)\n    axios.post('https://conduit.productionready.io/api/users/login', {user}).then(() => {\n      localStorage.setItem('user', JSON.stringify({remember: values.remember, ...user}))\n      message.success('登录成功')\n      setLoading(false)\n    }).catch((err) => {\n      setLoading(false)\n      message.error(JSON.stringify(err.response.data.errors))\n    })\n  }\n  let user = localStorage.getItem('user') && JSON.parse(localStorage.getItem('user'))\n  if(!user || !user.remember) {\n    user = ''\n  }\n  return (\n    <div>\n        <Form\n          {...layout}\n          name='basic'\n          initialValues={user}\n          onFinish={onFinish}\n        >\n          <Form.Item name='email' rules={loginRules.email}>\n            <Input prefix={<UserOutlined />} placeholder=\"手机号或邮箱\"/>\n          </Form.Item>\n\n          <Form.Item name='password' rules={loginRules.Password}>\n            <Input.Password prefix={<LockOutlined />} placeholder=\"密码\"/>\n          </Form.Item>\n          <Form.Item {...tailLayout} >\n            <Form.Item name='remember' valuePropName='checked' noStyle>\n              <Checkbox>记住我</Checkbox>\n            </Form.Item>\n            <span style={{float: 'right'}}>登录遇到问题?</span>\n          </Form.Item>\n          <Form.Item {...tailLayout} name=\"loginBtn\">\n            <Button type='primary' shape='round' htmlType='submit' size='large' block style={{background: '#3194d0'}}>\n              登录{loading && <span className=\"loading\">...</span>}\n            </Button>\n          </Form.Item>\n        </Form>\n    </div>\n  )\n}\n","import { Form, Input, Button, message } from 'antd'\nimport React from 'react'\nimport { UserOutlined, LockOutlined, MailOutlined } from '@ant-design/icons'\nimport '../styles/login.scss'\nimport axios from 'axios'\nconst layout = {\n  wrapperCol: { offset: 4, span: 16 },\n}\nconst tailLayout = {\n  wrapperCol: { offset: 4, span: 16 },\n}\n\nconst loginRules = {\n  username: [{ required: true, message: '请输入昵称!' }],\n  email: [{ required: true, message: '请输入邮箱!' }],\n  Password: [{ required: true, message: '请输入密码!' }],\n}\nexport default function Signup() {\n  const onFinish = (values) => {\n    let user = {\n      username: values.username,\n      email: values.email,\n      password: values.password\n    }\n    // 调接口\n    axios.post('https://conduit.productionready.io/api/users', {user}).then(() => {\n      message.success('注册成功');\n    }).catch((err) => {\n      message.error(err)\n    })\n  }\n\n  const onFinishFailed = (errorInfo) => {\n    console.log('Failed:', errorInfo)\n  }\n  return (\n    <div>\n        <Form\n          {...layout}\n          name='basic'\n          onFinish={onFinish}\n          onFinishFailed={onFinishFailed}\n        >\n          <Form.Item name='username' rules={loginRules.username}>\n            <Input prefix={<UserOutlined />} placeholder=\"你的昵称\"/>\n          </Form.Item>\n          <Form.Item name='email' rules={loginRules.email}>\n            <Input prefix={<MailOutlined />} placeholder=\"邮箱\"/>\n          </Form.Item>\n          <Form.Item name='password' rules={loginRules.Password}>\n            <Input.Password prefix={<LockOutlined />} placeholder=\"设置密码\"/>\n          </Form.Item>\n          <Form.Item {...tailLayout} name=\"loginBtn\">\n            <Button type='primary' shape='round' htmlType='submit' size='large' block style={{background: \"#42c02e\", border: 'none'}}>\n              注册\n            </Button>\n          </Form.Item>\n        </Form>\n    </div>\n  )\n}\n","import Login from './pages/login.js'\nimport Singup from './pages/signup'\nimport { Card } from 'antd'\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom'\nimport { useState, useEffect } from 'react'\n\nfunction App() {\n  let [currentIndex, setCurrentIndex] = useState(0)\n  function changeRoute(index) {\n    setCurrentIndex(index)\n  }\n  useEffect(() => {\n    if(window.location.pathname.includes('/signup')) {\n      setCurrentIndex(1)\n    }\n  }, [])\n  return (\n    <div className=\"login\">\n      <Card>\n        <Router basename='jianshu_login'>\n          <div className=\"sign-in-sing-up\">\n            <Link to=\"/login\" className={ currentIndex === 0 ? \"current-router\" : ''} onClick={() => changeRoute(0)}>登录</Link>\n            <b>·</b>\n            <Link to=\"/signup\" className={ currentIndex === 1 ? \"current-router\" : ''} onClick={() => changeRoute(1)}>注册</Link>\n          </div>\n          <Route path='/' component={Login} exact></Route>\n          <Route path='/login' component={Login}></Route>\n          <Route path='/signup' component={Singup}></Route>\n        </Router>\n      </Card>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport zhCN from 'antd/lib/locale/zh_CN'\nimport moment from 'moment'\nimport 'moment/locale/zh-cn'\nimport { ConfigProvider } from 'antd'\nimport 'antd/dist/antd.css'\nmoment.locale('zh-cn')\n\nReactDOM.render(\n  <ConfigProvider locale={zhCN}>\n    <App />\n  </ConfigProvider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}